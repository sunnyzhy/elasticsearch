# Geography

## 一 基础知识

1. 经度: 英文 longitude，缩写 lng 或 lon

   纬度：英文 latitude，缩写 lat

2. 本初子午线也称 0° 经线，东经度的最大值为 180°，西经度的最大值为 180°，东、西经 180° 经线是同一根经线，因此不分东经或西经，而统称 180° 经线。

   赤道是 0° 纬线，北纬度的最大值为 90°，即北极点；南纬度的最大值为 90°，即南极点。

3. 经度是一个两面角，是两个经线平面的夹角。

   纬度是一个线面角，是该点的法线与赤道平面之间的夹角。

4. 东经为正数，西经为负数。

   北纬为正数，南纬为负数。

5. 经纬度的范围: 

   经度[-180,180]
   
   纬度[-90,90]

6. **把地球看作是正球**，经线周长 = 赤道周长。
 
   以 WGS84 坐标系为例，地球半径是 6378137m，那么:

   赤道周长 = 2 * π * 6378137 = 40,075,016.0019724
   
   又因为赤道被分为了 360 度，所以一度就是
   
   40,075,016.0019724 / 360 = 111,319.4888943678m ≈ 111km

7. 同一经线上，纬度差 1°，经线长约为 111km

   同一纬线上，经度差1°，纬线长约为 111km * cosα，因为赤道的纬度值为 0，cosα = 1，所以 111km * 1 = 111km

8. 经纬度 1 度 = 60 分 = 3600 秒

   纬度 1 度 ≈ 111km
   
   纬度 1 分 ≈ 111km / 60 = 1.85km
   
   纬度 1 秒 ≈ 111km / 3600 ≈ 30.8m

## 二 ES 的地理数据类型

Elasticsearch支持两种类型的地理数据:

- geo_point: 描述一个点的地理位置坐标
- geo_shape: 描述一个不规则区域的地理位置坐标
